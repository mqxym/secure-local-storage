{
  "version": 3,
  "sources": ["node:path", "../../node_modules/argon2-browser/dist/argon2.js", "../../node_modules/argon2-browser/lib/argon2.js", "../../src/constants.ts", "../../src/errors.ts", "../../src/utils/base64.ts", "../../src/crypto/EncryptionManager.ts", "../../src/crypto/DeviceKeyProvider.ts", "../../src/crypto/KeyDerivation.ts", "../../src/crypto/SessionKeyCache.ts", "../../src/storage/StorageService.ts", "../../src/utils/json.ts", "../../src/utils/secureDataView.ts", "../../src/api/SecureLocalStorage.ts", "../../src/index.ts"],
  "sourcesContent": [
    "// path.js\nfunction assertPath(path) {\n  if (typeof path !== \"string\")\n    throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(path));\n}\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = \"\", lastSegmentLength = 0, lastSlash = -1, dots = 0, code;\n  for (var i = 0;i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47)\n      break;\n    else\n      code = 47;\n    if (code === 47) {\n      if (lastSlash === i - 1 || dots === 1)\n        ;\n      else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1)\n                res = \"\", lastSegmentLength = 0;\n              else\n                res = res.slice(0, lastSlashIndex), lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n              lastSlash = i, dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = \"\", lastSegmentLength = 0, lastSlash = i, dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += \"/..\";\n          else\n            res = \"..\";\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += \"/\" + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i, dots = 0;\n    } else if (code === 46 && dots !== -1)\n      ++dots;\n    else\n      dots = -1;\n  }\n  return res;\n}\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root, base = pathObject.base || (pathObject.name || \"\") + (pathObject.ext || \"\");\n  if (!dir)\n    return base;\n  if (dir === pathObject.root)\n    return dir + base;\n  return dir + sep + base;\n}\nfunction resolve() {\n  var resolvedPath = \"\", resolvedAbsolute = !1, cwd;\n  for (var i = arguments.length - 1;i >= -1 && !resolvedAbsolute; i--) {\n    var path;\n    if (i >= 0)\n      path = arguments[i];\n    else {\n      if (cwd === void 0)\n        cwd = process.cwd();\n      path = cwd;\n    }\n    if (assertPath(path), path.length === 0)\n      continue;\n    resolvedPath = path + \"/\" + resolvedPath, resolvedAbsolute = path.charCodeAt(0) === 47;\n  }\n  if (resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute), resolvedAbsolute)\n    if (resolvedPath.length > 0)\n      return \"/\" + resolvedPath;\n    else\n      return \"/\";\n  else if (resolvedPath.length > 0)\n    return resolvedPath;\n  else\n    return \".\";\n}\nfunction normalize(path) {\n  if (assertPath(path), path.length === 0)\n    return \".\";\n  var isAbsolute = path.charCodeAt(0) === 47, trailingSeparator = path.charCodeAt(path.length - 1) === 47;\n  if (path = normalizeStringPosix(path, !isAbsolute), path.length === 0 && !isAbsolute)\n    path = \".\";\n  if (path.length > 0 && trailingSeparator)\n    path += \"/\";\n  if (isAbsolute)\n    return \"/\" + path;\n  return path;\n}\nfunction isAbsolute(path) {\n  return assertPath(path), path.length > 0 && path.charCodeAt(0) === 47;\n}\nfunction join() {\n  if (arguments.length === 0)\n    return \".\";\n  var joined;\n  for (var i = 0;i < arguments.length; ++i) {\n    var arg = arguments[i];\n    if (assertPath(arg), arg.length > 0)\n      if (joined === void 0)\n        joined = arg;\n      else\n        joined += \"/\" + arg;\n  }\n  if (joined === void 0)\n    return \".\";\n  return normalize(joined);\n}\nfunction relative(from, to) {\n  if (assertPath(from), assertPath(to), from === to)\n    return \"\";\n  if (from = resolve(from), to = resolve(to), from === to)\n    return \"\";\n  var fromStart = 1;\n  for (;fromStart < from.length; ++fromStart)\n    if (from.charCodeAt(fromStart) !== 47)\n      break;\n  var fromEnd = from.length, fromLen = fromEnd - fromStart, toStart = 1;\n  for (;toStart < to.length; ++toStart)\n    if (to.charCodeAt(toStart) !== 47)\n      break;\n  var toEnd = to.length, toLen = toEnd - toStart, length = fromLen < toLen ? fromLen : toLen, lastCommonSep = -1, i = 0;\n  for (;i <= length; ++i) {\n    if (i === length) {\n      if (toLen > length) {\n        if (to.charCodeAt(toStart + i) === 47)\n          return to.slice(toStart + i + 1);\n        else if (i === 0)\n          return to.slice(toStart + i);\n      } else if (fromLen > length) {\n        if (from.charCodeAt(fromStart + i) === 47)\n          lastCommonSep = i;\n        else if (i === 0)\n          lastCommonSep = 0;\n      }\n      break;\n    }\n    var fromCode = from.charCodeAt(fromStart + i), toCode = to.charCodeAt(toStart + i);\n    if (fromCode !== toCode)\n      break;\n    else if (fromCode === 47)\n      lastCommonSep = i;\n  }\n  var out = \"\";\n  for (i = fromStart + lastCommonSep + 1;i <= fromEnd; ++i)\n    if (i === fromEnd || from.charCodeAt(i) === 47)\n      if (out.length === 0)\n        out += \"..\";\n      else\n        out += \"/..\";\n  if (out.length > 0)\n    return out + to.slice(toStart + lastCommonSep);\n  else {\n    if (toStart += lastCommonSep, to.charCodeAt(toStart) === 47)\n      ++toStart;\n    return to.slice(toStart);\n  }\n}\nfunction _makeLong(path) {\n  return path;\n}\nfunction dirname(path) {\n  if (assertPath(path), path.length === 0)\n    return \".\";\n  var code = path.charCodeAt(0), hasRoot = code === 47, end = -1, matchedSlash = !0;\n  for (var i = path.length - 1;i >= 1; --i)\n    if (code = path.charCodeAt(i), code === 47) {\n      if (!matchedSlash) {\n        end = i;\n        break;\n      }\n    } else\n      matchedSlash = !1;\n  if (end === -1)\n    return hasRoot ? \"/\" : \".\";\n  if (hasRoot && end === 1)\n    return \"//\";\n  return path.slice(0, end);\n}\nfunction basename(path, ext) {\n  if (ext !== void 0 && typeof ext !== \"string\")\n    throw new TypeError('\"ext\" argument must be a string');\n  assertPath(path);\n  var start = 0, end = -1, matchedSlash = !0, i;\n  if (ext !== void 0 && ext.length > 0 && ext.length <= path.length) {\n    if (ext.length === path.length && ext === path)\n      return \"\";\n    var extIdx = ext.length - 1, firstNonSlashEnd = -1;\n    for (i = path.length - 1;i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else {\n        if (firstNonSlashEnd === -1)\n          matchedSlash = !1, firstNonSlashEnd = i + 1;\n        if (extIdx >= 0)\n          if (code === ext.charCodeAt(extIdx)) {\n            if (--extIdx === -1)\n              end = i;\n          } else\n            extIdx = -1, end = firstNonSlashEnd;\n      }\n    }\n    if (start === end)\n      end = firstNonSlashEnd;\n    else if (end === -1)\n      end = path.length;\n    return path.slice(start, end);\n  } else {\n    for (i = path.length - 1;i >= 0; --i)\n      if (path.charCodeAt(i) === 47) {\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1)\n        matchedSlash = !1, end = i + 1;\n    if (end === -1)\n      return \"\";\n    return path.slice(start, end);\n  }\n}\nfunction extname(path) {\n  assertPath(path);\n  var startDot = -1, startPart = 0, end = -1, matchedSlash = !0, preDotState = 0;\n  for (var i = path.length - 1;i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47) {\n      if (!matchedSlash) {\n        startPart = i + 1;\n        break;\n      }\n      continue;\n    }\n    if (end === -1)\n      matchedSlash = !1, end = i + 1;\n    if (code === 46) {\n      if (startDot === -1)\n        startDot = i;\n      else if (preDotState !== 1)\n        preDotState = 1;\n    } else if (startDot !== -1)\n      preDotState = -1;\n  }\n  if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n    return \"\";\n  return path.slice(startDot, end);\n}\nfunction format(pathObject) {\n  if (pathObject === null || typeof pathObject !== \"object\")\n    throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n  return _format(\"/\", pathObject);\n}\nfunction parse(path) {\n  assertPath(path);\n  var ret = { root: \"\", dir: \"\", base: \"\", ext: \"\", name: \"\" };\n  if (path.length === 0)\n    return ret;\n  var code = path.charCodeAt(0), isAbsolute2 = code === 47, start;\n  if (isAbsolute2)\n    ret.root = \"/\", start = 1;\n  else\n    start = 0;\n  var startDot = -1, startPart = 0, end = -1, matchedSlash = !0, i = path.length - 1, preDotState = 0;\n  for (;i >= start; --i) {\n    if (code = path.charCodeAt(i), code === 47) {\n      if (!matchedSlash) {\n        startPart = i + 1;\n        break;\n      }\n      continue;\n    }\n    if (end === -1)\n      matchedSlash = !1, end = i + 1;\n    if (code === 46) {\n      if (startDot === -1)\n        startDot = i;\n      else if (preDotState !== 1)\n        preDotState = 1;\n    } else if (startDot !== -1)\n      preDotState = -1;\n  }\n  if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    if (end !== -1)\n      if (startPart === 0 && isAbsolute2)\n        ret.base = ret.name = path.slice(1, end);\n      else\n        ret.base = ret.name = path.slice(startPart, end);\n  } else {\n    if (startPart === 0 && isAbsolute2)\n      ret.name = path.slice(1, startDot), ret.base = path.slice(1, end);\n    else\n      ret.name = path.slice(startPart, startDot), ret.base = path.slice(startPart, end);\n    ret.ext = path.slice(startDot, end);\n  }\n  if (startPart > 0)\n    ret.dir = path.slice(0, startPart - 1);\n  else if (isAbsolute2)\n    ret.dir = \"/\";\n  return ret;\n}\nvar sep = \"/\", delimiter = \":\", posix = /* @__PURE__ */ ((p) => (p.posix = p, p))({\n  resolve,\n  normalize,\n  isAbsolute,\n  join,\n  relative,\n  _makeLong,\n  dirname,\n  basename,\n  extname,\n  format,\n  parse,\n  sep,\n  delimiter,\n  win32: null,\n  posix: null\n});\nvar path_default = posix;\nexport {\n  sep,\n  resolve,\n  relative,\n  posix,\n  parse,\n  normalize,\n  join,\n  isAbsolute,\n  format,\n  extname,\n  dirname,\n  delimiter,\n  path_default as default,\n  basename,\n  _makeLong\n};",
    "var Module=typeof self!==\"undefined\"&&typeof self.Module!==\"undefined\"?self.Module:{};var jsModule=Module;var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);if(typeof module!==\"undefined\"){module[\"exports\"]=Module}process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!==\"undefined\"&&document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime=Module[\"noExitRuntime\"]||true;if(typeof WebAssembly!==\"object\"){abort(\"no native wasm support detected\")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}var ALLOC_NORMAL=0;var ALLOC_STACK=1;function allocate(slab,allocator){var ret;if(allocator==ALLOC_STACK){ret=stackAlloc(slab.length)}else{ret=_malloc(slab.length)}if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;var wasmTable;var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}what+=\"\";err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";var e=new WebAssembly.RuntimeError(what);throw e}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return filename.startsWith(dataURIPrefix)}function isFileURI(filename){return filename.startsWith(\"file://\")}var wasmBinaryFile=\"argon2.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;wasmMemory=Module[\"asm\"][\"c\"];updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module[\"asm\"][\"k\"];addOnInit(Module[\"asm\"][\"d\"]);removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){receiveInstance(result[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiationResult,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");return instantiateArrayBuffer(receiveInstantiationResult)})})}else{return instantiateArrayBuffer(receiveInstantiationResult)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize=requestedSize>>>0;var maxHeapSize=2147418112;if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}var asmLibraryArg={\"a\":_emscripten_memcpy_big,\"b\":_emscripten_resize_heap};var asm=createWasm();var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"d\"]).apply(null,arguments)};var _argon2_hash=Module[\"_argon2_hash\"]=function(){return(_argon2_hash=Module[\"_argon2_hash\"]=Module[\"asm\"][\"e\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"f\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"g\"]).apply(null,arguments)};var _argon2_verify=Module[\"_argon2_verify\"]=function(){return(_argon2_verify=Module[\"_argon2_verify\"]=Module[\"asm\"][\"h\"]).apply(null,arguments)};var _argon2_error_message=Module[\"_argon2_error_message\"]=function(){return(_argon2_error_message=Module[\"_argon2_error_message\"]=Module[\"asm\"][\"i\"]).apply(null,arguments)};var _argon2_encodedlen=Module[\"_argon2_encodedlen\"]=function(){return(_argon2_encodedlen=Module[\"_argon2_encodedlen\"]=Module[\"asm\"][\"j\"]).apply(null,arguments)};var _argon2_hash_ext=Module[\"_argon2_hash_ext\"]=function(){return(_argon2_hash_ext=Module[\"_argon2_hash_ext\"]=Module[\"asm\"][\"l\"]).apply(null,arguments)};var _argon2_verify_ext=Module[\"_argon2_verify_ext\"]=function(){return(_argon2_verify_ext=Module[\"_argon2_verify_ext\"]=Module[\"asm\"][\"m\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"n\"]).apply(null,arguments)};Module[\"allocate\"]=allocate;Module[\"UTF8ToString\"]=UTF8ToString;Module[\"ALLOC_NORMAL\"]=ALLOC_NORMAL;var calledRun;function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}run();if(typeof module!==\"undefined\")module.exports=Module;Module.unloadRuntime=function(){if(typeof self!==\"undefined\"){delete self.Module}Module=jsModule=wasmMemory=wasmTable=asm=buffer=HEAP8=HEAPU8=HEAP16=HEAPU16=HEAP32=HEAPU32=HEAPF32=HEAPF64=undefined;if(typeof module!==\"undefined\"){delete module.exports}};\n",
    "(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.argon2 = factory();\n    }\n})(typeof self !== 'undefined' ? self : this, function () {\n    const global = typeof self !== 'undefined' ? self : this;\n\n    /**\n     * @enum\n     */\n    const ArgonType = {\n        Argon2d: 0,\n        Argon2i: 1,\n        Argon2id: 2,\n    };\n\n    function loadModule(mem) {\n        if (loadModule._promise) {\n            return loadModule._promise;\n        }\n        if (loadModule._module) {\n            return Promise.resolve(loadModule._module);\n        }\n        let promise;\n        if (\n            global.process &&\n            global.process.versions &&\n            global.process.versions.node\n        ) {\n            promise = loadWasmModule().then(\n                (Module) =>\n                    new Promise((resolve) => {\n                        Module.postRun = () => resolve(Module);\n                    })\n            );\n        } else {\n            promise = loadWasmBinary().then((wasmBinary) => {\n                const wasmMemory = mem ? createWasmMemory(mem) : undefined;\n                return initWasm(wasmBinary, wasmMemory);\n            });\n        }\n        loadModule._promise = promise;\n        return promise.then((Module) => {\n            loadModule._module = Module;\n            delete loadModule._promise;\n            return Module;\n        });\n    }\n\n    function initWasm(wasmBinary, wasmMemory) {\n        return new Promise((resolve) => {\n            global.Module = {\n                wasmBinary,\n                wasmMemory,\n                postRun() {\n                    resolve(Module);\n                },\n            };\n            return loadWasmModule();\n        });\n    }\n\n    function loadWasmModule() {\n        if (global.loadArgon2WasmModule) {\n            return global.loadArgon2WasmModule();\n        }\n        if (typeof require === 'function') {\n            return Promise.resolve(require('../dist/argon2.js'));\n        }\n        return import('../dist/argon2.js');\n    }\n\n    function loadWasmBinary() {\n        if (global.loadArgon2WasmBinary) {\n            return global.loadArgon2WasmBinary();\n        }\n        if (typeof require === 'function') {\n            return Promise.resolve(require('../dist/argon2.wasm')).then(\n                (wasmModule) => {\n                    return decodeWasmBinary(wasmModule);\n                }\n            );\n        }\n        const wasmPath =\n            global.argon2WasmPath ||\n            'node_modules/argon2-browser/dist/argon2.wasm';\n        return fetch(wasmPath)\n            .then((response) => response.arrayBuffer())\n            .then((ab) => new Uint8Array(ab));\n    }\n\n    function decodeWasmBinary(base64) {\n        const text = atob(base64);\n        const binary = new Uint8Array(new ArrayBuffer(text.length));\n        for (let i = 0; i < text.length; i++) {\n            binary[i] = text.charCodeAt(i);\n        }\n        return binary;\n    }\n\n    function createWasmMemory(mem) {\n        const KB = 1024;\n        const MB = 1024 * KB;\n        const GB = 1024 * MB;\n        const WASM_PAGE_SIZE = 64 * KB;\n\n        const totalMemory = (2 * GB - 64 * KB) / WASM_PAGE_SIZE;\n        const initialMemory = Math.min(\n            Math.max(Math.ceil((mem * KB) / WASM_PAGE_SIZE), 256) + 256,\n            totalMemory\n        );\n\n        return new WebAssembly.Memory({\n            initial: initialMemory,\n            maximum: totalMemory,\n        });\n    }\n\n    function allocateArray(Module, arr) {\n        return Module.allocate(arr, 'i8', Module.ALLOC_NORMAL);\n    }\n\n    function allocateArrayStr(Module, arr) {\n        const nullTerminatedArray = new Uint8Array([...arr, 0]);\n        return allocateArray(Module, nullTerminatedArray);\n    }\n\n    function encodeUtf8(str) {\n        if (typeof str !== 'string') {\n            return str;\n        }\n        if (typeof TextEncoder === 'function') {\n            return new TextEncoder().encode(str);\n        } else if (typeof Buffer === 'function') {\n            return Buffer.from(str);\n        } else {\n            throw new Error(\"Don't know how to encode UTF8\");\n        }\n    }\n\n    /**\n     * Argon2 hash\n     * @param {string|Uint8Array} params.pass - password string\n     * @param {string|Uint8Array} params.salt - salt string\n     * @param {number} [params.time=1] - the number of iterations\n     * @param {number} [params.mem=1024] - used memory, in KiB\n     * @param {number} [params.hashLen=24] - desired hash length\n     * @param {number} [params.parallelism=1] - desired parallelism\n     * @param {number} [params.type=argon2.ArgonType.Argon2d] - hash type:\n     *      argon2.ArgonType.Argon2d\n     *      argon2.ArgonType.Argon2i\n     *      argon2.ArgonType.Argon2id\n     *\n     * @return Promise\n     *\n     * @example\n     *  argon2.hash({ pass: 'password', salt: 'somesalt' })\n     *      .then(h => console.log(h.hash, h.hashHex, h.encoded))\n     *      .catch(e => console.error(e.message, e.code))\n     */\n    function argon2Hash(params) {\n        const mCost = params.mem || 1024;\n        return loadModule(mCost).then((Module) => {\n            const tCost = params.time || 1;\n            const parallelism = params.parallelism || 1;\n            const pwdEncoded = encodeUtf8(params.pass);\n            const pwd = allocateArrayStr(Module, pwdEncoded);\n            const pwdlen = pwdEncoded.length;\n            const saltEncoded = encodeUtf8(params.salt);\n            const salt = allocateArrayStr(Module, saltEncoded);\n            const saltlen = saltEncoded.length;\n            const argon2Type = params.type || ArgonType.Argon2d;\n            const hash = Module.allocate(\n                new Array(params.hashLen || 24),\n                'i8',\n                Module.ALLOC_NORMAL\n            );\n            const secret = params.secret\n                ? allocateArray(Module, params.secret)\n                : 0;\n            const secretlen = params.secret ? params.secret.byteLength : 0;\n            const ad = params.ad ? allocateArray(Module, params.ad) : 0;\n            const adlen = params.ad ? params.ad.byteLength : 0;\n            const hashlen = params.hashLen || 24;\n            const encodedlen = Module._argon2_encodedlen(\n                tCost,\n                mCost,\n                parallelism,\n                saltlen,\n                hashlen,\n                argon2Type\n            );\n            const encoded = Module.allocate(\n                new Array(encodedlen + 1),\n                'i8',\n                Module.ALLOC_NORMAL\n            );\n            const version = 0x13;\n            let err;\n            let res;\n            try {\n                res = Module._argon2_hash_ext(\n                    tCost,\n                    mCost,\n                    parallelism,\n                    pwd,\n                    pwdlen,\n                    salt,\n                    saltlen,\n                    hash,\n                    hashlen,\n                    encoded,\n                    encodedlen,\n                    argon2Type,\n                    secret,\n                    secretlen,\n                    ad,\n                    adlen,\n                    version\n                );\n            } catch (e) {\n                err = e;\n            }\n            let result;\n            if (res === 0 && !err) {\n                let hashStr = '';\n                const hashArr = new Uint8Array(hashlen);\n                for (let i = 0; i < hashlen; i++) {\n                    const byte = Module.HEAP8[hash + i];\n                    hashArr[i] = byte;\n                    hashStr += ('0' + (0xff & byte).toString(16)).slice(-2);\n                }\n                const encodedStr = Module.UTF8ToString(encoded);\n                result = {\n                    hash: hashArr,\n                    hashHex: hashStr,\n                    encoded: encodedStr,\n                };\n            } else {\n                try {\n                    if (!err) {\n                        err = Module.UTF8ToString(\n                            Module._argon2_error_message(res)\n                        );\n                    }\n                } catch (e) {}\n                result = { message: err, code: res };\n            }\n            try {\n                Module._free(pwd);\n                Module._free(salt);\n                Module._free(hash);\n                Module._free(encoded);\n                if (ad) {\n                    Module._free(ad);\n                }\n                if (secret) {\n                    Module._free(secret);\n                }\n            } catch (e) {}\n            if (err) {\n                throw result;\n            } else {\n                return result;\n            }\n        });\n    }\n\n    /**\n     * Argon2 verify function\n     * @param {string} params.pass - password string\n     * @param {string|Uint8Array} params.encoded - encoded hash\n     * @param {number} [params.type=argon2.ArgonType.Argon2d] - hash type:\n     *      argon2.ArgonType.Argon2d\n     *      argon2.ArgonType.Argon2i\n     *      argon2.ArgonType.Argon2id\n     *\n     * @returns Promise\n     *\n     * @example\n     *  argon2.verify({ pass: 'password', encoded: 'encoded-hash' })\n     *      .then(() => console.log('OK'))\n     *      .catch(e => console.error(e.message, e.code))\n     */\n    function argon2Verify(params) {\n        return loadModule().then((Module) => {\n            const pwdEncoded = encodeUtf8(params.pass);\n            const pwd = allocateArrayStr(Module, pwdEncoded);\n            const pwdlen = pwdEncoded.length;\n            const secret = params.secret\n                ? allocateArray(Module, params.secret)\n                : 0;\n            const secretlen = params.secret ? params.secret.byteLength : 0;\n            const ad = params.ad ? allocateArray(Module, params.ad) : 0;\n            const adlen = params.ad ? params.ad.byteLength : 0;\n            const encEncoded = encodeUtf8(params.encoded);\n            const enc = allocateArrayStr(Module, encEncoded);\n            let argon2Type = params.type;\n            if (argon2Type === undefined) {\n                let typeStr = params.encoded.split('$')[1];\n                if (typeStr) {\n                    typeStr = typeStr.replace('a', 'A');\n                    argon2Type = ArgonType[typeStr] || ArgonType.Argon2d;\n                }\n            }\n            let err;\n            let res;\n            try {\n                res = Module._argon2_verify_ext(\n                    enc,\n                    pwd,\n                    pwdlen,\n                    secret,\n                    secretlen,\n                    ad,\n                    adlen,\n                    argon2Type\n                );\n            } catch (e) {\n                err = e;\n            }\n            let result;\n            if (res || err) {\n                try {\n                    if (!err) {\n                        err = Module.UTF8ToString(\n                            Module._argon2_error_message(res)\n                        );\n                    }\n                } catch (e) {}\n                result = { message: err, code: res };\n            }\n            try {\n                Module._free(pwd);\n                Module._free(enc);\n            } catch (e) {}\n            if (err) {\n                throw result;\n            } else {\n                return result;\n            }\n        });\n    }\n\n    function unloadRuntime() {\n        if (loadModule._module) {\n            loadModule._module.unloadRuntime();\n            delete loadModule._promise;\n            delete loadModule._module;\n        }\n    }\n\n    return {\n        ArgonType,\n        hash: argon2Hash,\n        verify: argon2Verify,\n        unloadRuntime,\n    };\n});\n",
    "export const SLS_CONSTANTS = {\n  CURRENT_DATA_VERSION: 2 as const,\n  // AES-GCM\n  AES: {\n    NAME: \"AES-GCM\" as const,\n    LENGTH: 256 as const,\n    IV_LENGTH: 12 as const // 96-bit nonce\n  },\n  // Argon2 (argon2-browser uses KiB for mem)\n  ARGON2: {\n    TYPE: \"id\" as const, // Argon2id\n    ITERATIONS: 20,\n    MEMORY_KIB: 64 * 1024,\n    PARALLELISM: 1,\n    HASH_LEN: 32 // 256-bit\n  },\n  // Storage\n  STORAGE_KEY: \"secure-local-storage:v2\",\n  // IndexedDB\n  IDB: {\n    DB_NAME: \"SLS_KEYS\",\n    STORE: \"keys\",\n    ID: \"deviceKek_v1\"\n  },\n  // Salt for Argon2\n  SALT_LEN: 16\n};",
    "export class SlsError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = \"SlsError\";\n  }\n}\n\nexport class ValidationError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"ValidationError\";\n  }\n}\n\nexport class LockedError extends SlsError {\n  constructor(message = \"Session locked\") {\n    super(message);\n    this.name = \"LockedError\";\n  }\n}\n\nexport class ModeError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"ModeError\";\n  }\n}\n\nexport class StorageFullError extends SlsError {\n  constructor(message = \"localStorage quota exceeded\") {\n    super(message);\n    this.name = \"StorageFullError\";\n  }\n}\n\nexport class CryptoError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"CryptoError\";\n  }\n}\n\nexport class ImportError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"ImportError\";\n  }\n}\n\nexport class ExportError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"ExportError\";\n  }\n}\n\nexport class NotSupportedError extends SlsError {\n  constructor(message: string) {\n    super(message);\n    this.name = \"NotSupportedError\";\n  }\n}",
    "export function bytesToBase64(bytes: ArrayBuffer | Uint8Array): string {\n  const u8 = bytes instanceof Uint8Array ? bytes : new Uint8Array(bytes);\n  if (u8.byteLength === 0) return \"\";\n  let binary = \"\";\n  for (let i = 0; i < u8.length; i++) binary += String.fromCharCode(u8[i] as number);\n  if (typeof btoa === \"function\") return btoa(binary);\n  // @ts-ignore\n  return Buffer.from(binary, \"binary\").toString(\"base64\");\n}\n\nimport { ValidationError } from \"../errors\";\n\nexport function base64ToBytes(b64: string): Uint8Array {\n  if (typeof b64 !== \"string\" || b64.trim().length === 0) {\n    throw new ValidationError(\"Base64 input must be a non-empty string\");\n  }\n  try {\n    // normalize: remove whitespace, convert URL-safe to standard, add padding\n    const cleaned = b64.replace(/\\s+/g, \"\").replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const pad = cleaned.length % 4;\n    const normalized = pad === 0 ? cleaned : cleaned + \"=\".repeat(4 - pad);\n\n    if (typeof atob === \"function\") {\n      const binary = atob(normalized);\n      const out = new Uint8Array(binary.length);\n      for (let i = 0; i < binary.length; i++) out[i] = binary.charCodeAt(i);\n      return out;\n    }\n    // @ts-ignore\n    const buf = Buffer.from(normalized, \"base64\");\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n  } catch {\n    throw new ValidationError(\"Invalid base64 input\");\n  }\n}",
    "import { SLS_CONSTANTS } from \"../constants\";\nimport { base64ToBytes, bytesToBase64 } from \"../utils/base64\";\nimport { CryptoError, ValidationError } from \"../errors\";\n\nfunction toArrayBuffer(u8: Uint8Array): ArrayBuffer {\n  if (u8.byteOffset === 0 && u8.byteLength === u8.buffer.byteLength && u8.buffer instanceof ArrayBuffer) {\n    return u8.buffer as ArrayBuffer;\n  }\n  return u8.slice().buffer as ArrayBuffer;\n}\n\nexport class EncryptionManager {\n  generateSaltB64(): string {\n    const salt = new Uint8Array(SLS_CONSTANTS.SALT_LEN);\n    crypto.getRandomValues(salt);\n    return bytesToBase64(salt);\n  }\n\n  async createDek(): Promise<CryptoKey> {\n    try {\n      return await crypto.subtle.generateKey(\n        { name: SLS_CONSTANTS.AES.NAME, length: SLS_CONSTANTS.AES.LENGTH },\n        true,\n        [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\n      );\n    } catch (e) {\n      throw new CryptoError(`Failed to generate DEK: ${(e as Error)?.message ?? e}`);\n    }\n  }\n\n  async encryptData(key: CryptoKey, obj: unknown): Promise<{ iv: string; ciphertext: string }> {\n    try {\n      const iv = new Uint8Array(SLS_CONSTANTS.AES.IV_LENGTH);\n      crypto.getRandomValues(iv);\n      const data = new TextEncoder().encode(JSON.stringify(obj));\n      const ct = await crypto.subtle.encrypt({ name: SLS_CONSTANTS.AES.NAME, iv }, key, toArrayBuffer(data));\n      return { iv: bytesToBase64(iv), ciphertext: bytesToBase64(ct) };\n    } catch (e) {\n      throw new CryptoError(`Encryption failed: ${(e as Error)?.message ?? e}`);\n    }\n  }\n\n  async decryptData<T = unknown>(key: CryptoKey, ivB64: string, ctB64: string): Promise<T> {\n    if (!ivB64 || !ctB64) throw new ValidationError(\"IV and ciphertext are required\");\n\n    let ivBytes: BufferSource;\n    let ct: Uint8Array;\n    \n    ivBytes = base64ToBytes(ivB64) as BufferSource;\n    ct = base64ToBytes(ctB64);\n    \n    if (ivBytes.byteLength !== SLS_CONSTANTS.AES.IV_LENGTH) {\n      throw new ValidationError(`IV must be ${SLS_CONSTANTS.AES.IV_LENGTH} bytes`);\n    }\n\n    let pt: ArrayBuffer;\n    try {\n      pt = await crypto.subtle.decrypt({ name: SLS_CONSTANTS.AES.NAME, iv: ivBytes }, key, toArrayBuffer(ct));\n    } catch (e) {\n      throw new CryptoError(`Invalid key or data.`);\n    }\n\n    try {\n      return JSON.parse(new TextDecoder().decode(pt)) as T;\n    } catch {\n      throw new ValidationError(\"Decrypted data is not valid JSON\");\n    }\n  }\n\n  async unwrapDek(ivWrapB64: string, wrappedB64: string, kek: CryptoKey, forWrapping = false): Promise<CryptoKey> {\n    let ivBytes: BufferSource;\n    let wrapped: Uint8Array;\n\n    ivBytes = base64ToBytes(ivWrapB64) as BufferSource; // may throw ValidationError\n    wrapped = base64ToBytes(wrappedB64);\n\n\n    if (ivBytes.byteLength !== SLS_CONSTANTS.AES.IV_LENGTH) {\n      throw new ValidationError(`Wrap IV must be ${SLS_CONSTANTS.AES.IV_LENGTH} bytes`);\n    }\n\n    try {\n      return await crypto.subtle.unwrapKey(\n        \"raw\",\n        toArrayBuffer(wrapped),\n        kek,\n        { name: SLS_CONSTANTS.AES.NAME, iv: ivBytes },\n        { name: SLS_CONSTANTS.AES.NAME, length: SLS_CONSTANTS.AES.LENGTH },\n        forWrapping,\n        forWrapping ? [\"wrapKey\", \"unwrapKey\", \"encrypt\", \"decrypt\"] : [\"encrypt\", \"decrypt\"]\n      );\n    } catch (e) {\n      throw new CryptoError(\"Invalid key or data.\");\n    }\n  }\n\n  async wrapDek(dek: CryptoKey, kek: CryptoKey): Promise<{ ivWrap: string; wrappedKey: string }> {\n    try {\n      const iv = new Uint8Array(SLS_CONSTANTS.AES.IV_LENGTH);\n      crypto.getRandomValues(iv);\n      const wrapped = await crypto.subtle.wrapKey(\"raw\", dek, kek, { name: SLS_CONSTANTS.AES.NAME, iv });\n      return { ivWrap: bytesToBase64(iv), wrappedKey: bytesToBase64(wrapped) };\n    } catch (e) {\n      throw new CryptoError(`wrapKey failed: ${(e as Error)?.message ?? e}`);\n    }\n  }\n}",
    "import { SLS_CONSTANTS } from \"../constants\";\nimport { NotSupportedError } from \"../errors\";\n\n/** Public shape for configuring where the device KEK is persisted. */\nexport interface IdbConfig {\n  dbName: string;\n  storeName: string;\n  keyId: string;\n}\n\n/** Resolve partial config to concrete values using current defaults. */\nfunction resolveIdbConfig(cfg?: Partial<IdbConfig>): IdbConfig {\n  return {\n    dbName: cfg?.dbName ?? SLS_CONSTANTS.IDB.DB_NAME,\n    storeName: cfg?.storeName ?? SLS_CONSTANTS.IDB.STORE,\n    keyId: cfg?.keyId ?? SLS_CONSTANTS.IDB.ID\n  };\n}\n\n/** Build a stable in-memory identity per (dbName, storeName, keyId). */\nfunction memKeyId(cfg: IdbConfig): string {\n  return `${cfg.dbName}::${cfg.storeName}::${cfg.keyId}`;\n}\n\n/**\n * Persists a non-extractable AES-GCM KEK in IndexedDB (origin-bound).\n * Falls back to an in-memory key if IndexedDB is unavailable or rejects storing CryptoKey.\n *\n * Now supports per-instance configuration of the IndexedDB DB/store/key id via IdbConfig.\n * If you don't pass a config, it uses SLS_CONSTANTS.IDB defaults (fully backwards compatible).\n */\nexport class DeviceKeyProvider {\n  // Keep one in-memory key per (dbName, storeName, keyId)\n  private static memoryKeys = new Map<string, CryptoKey>();\n\n  static async getKey(cfgIn?: Partial<IdbConfig>): Promise<CryptoKey> {\n    const cfg = resolveIdbConfig(cfgIn);\n    const mk = memKeyId(cfg);\n\n    // Prefer in-memory identity within the current session.\n    const existingMem = this.memoryKeys.get(mk);\n    if (existingMem) return existingMem;\n\n    // If IndexedDB not available, use memory fallback\n    if (!globalThis.indexedDB) {\n      const k = await this.generateKek();\n      this.memoryKeys.set(mk, k);\n      return k;\n    }\n\n    const db = await this.openDB(cfg).catch(() => null);\n    try {\n      if (!db) {\n        const k = await this.generateKek();\n        this.memoryKeys.set(mk, k);\n        return k;\n      }\n\n      const existing: CryptoKey | undefined = await new Promise((resolve, reject) => {\n        const tx = db.transaction(cfg.storeName, \"readonly\");\n        const req = tx.objectStore(cfg.storeName).get(cfg.keyId);\n        req.onsuccess = () => resolve((req.result?.key as CryptoKey) || undefined);\n        req.onerror = () => reject(req.error);\n      });\n\n      if (existing) {\n        this.memoryKeys.set(mk, existing);\n        return existing;\n      }\n\n      // Nothing persisted -> generate and try to persist\n      const key = await this.generateKek();\n\n      await new Promise<void>((resolve, reject) => {\n        const tx = db.transaction(cfg.storeName, \"readwrite\");\n        const put = tx.objectStore(cfg.storeName).put({ id: cfg.keyId, key });\n        put.onsuccess = () => resolve();\n        put.onerror = () => reject(put.error);\n      }).catch(() => {\n        // Storing CryptoKey failed (e.g., structured clone not supported) -> ignore and fall back to memory\n      });\n\n      // Prefer in-memory identity within the session\n      this.memoryKeys.set(mk, key);\n      return key;\n    } catch {\n      // Any unexpected failure -> ensure we still return a usable key\n      let k = this.memoryKeys.get(mk);\n      if (!k) {\n        k = await this.generateKek();\n        this.memoryKeys.set(mk, k);\n      }\n      return k;\n    } finally {\n      if (db) db.close();\n    }\n  }\n\n  static async rotateKey(cfgIn?: Partial<IdbConfig>): Promise<CryptoKey> {\n    const cfg = resolveIdbConfig(cfgIn);\n    const mk = memKeyId(cfg);\n\n    const newKey = await this.generateKek();\n\n    if (!globalThis.indexedDB) {\n      this.memoryKeys.set(mk, newKey);\n      return newKey;\n    }\n\n    const db = await this.openDB(cfg).catch(() => null);\n    try {\n      if (!db) {\n        this.memoryKeys.set(mk, newKey);\n        return newKey;\n      }\n      await new Promise<void>((resolve, reject) => {\n        const tx = db.transaction(cfg.storeName, \"readwrite\");\n        const put = tx.objectStore(cfg.storeName).put({ id: cfg.keyId, key: newKey });\n        put.onsuccess = () => resolve();\n        put.onerror = () => reject(put.error);\n      });\n      // Keep identity stable within session\n      this.memoryKeys.set(mk, newKey);\n      return newKey;\n    } catch {\n      this.memoryKeys.set(mk, newKey);\n      return newKey;\n    } finally {\n      if (db) db.close();\n    }\n  }\n\n  /**\n   * Remove persisted key material for this configuration and clear the in-memory copy.\n   * For backward compatibility with the original implementation, this deletes the whole DB\n   * (default DB name), which is fine when you use distinct dbName per tenant/config.\n   * If you prefer surgical deletes, switch to opening the DB and deleting only the record.\n   */\n  static async deletePersistent(cfgIn?: Partial<IdbConfig>): Promise<void> {\n    const cfg = resolveIdbConfig(cfgIn);\n    this.memoryKeys.delete(memKeyId(cfg));\n\n    if (!globalThis.indexedDB) return;\n\n    // Prefer surgical delete of only the targeted keyId.\n    const db = await this.openDB(cfg).catch(() => null);\n    if (db) {\n      try {\n        await new Promise<void>((resolve, reject) => {\n          const tx = db.transaction(cfg.storeName, \"readwrite\");\n          const del = tx.objectStore(cfg.storeName).delete(cfg.keyId);\n          del.onsuccess = () => resolve();\n          del.onerror = () => reject(del.error);\n        });\n        db.close();\n        return;\n      } catch {\n        // fall through to full DB delete\n        db.close();\n      }\n    }\n\n    // Fallback: delete the whole DB \n    await new Promise<void>((resolve) => {\n      const req = indexedDB.deleteDatabase(cfg.dbName);\n      req.onsuccess = () => resolve();\n      req.onerror = () => resolve(); \n    });\n}\n\n  // --------------------------- private helpers ---------------------------\n\n  private static async generateKek(): Promise<CryptoKey> {\n    return await crypto.subtle.generateKey(\n      { name: SLS_CONSTANTS.AES.NAME, length: SLS_CONSTANTS.AES.LENGTH },\n      false,\n      [\"wrapKey\", \"unwrapKey\"]\n    );\n  }\n\n  private static openDB(cfg: IdbConfig): Promise<IDBDatabase> {\n    return new Promise((resolve, reject) => {\n      try {\n        const req = indexedDB.open(cfg.dbName, 1);\n        req.onupgradeneeded = () => {\n          if (!req.result.objectStoreNames.contains(cfg.storeName)) {\n            req.result.createObjectStore(cfg.storeName, { keyPath: \"id\" });\n          }\n        };\n        req.onsuccess = () => resolve(req.result);\n        req.onerror = () =>\n          reject(new NotSupportedError(req.error?.message ?? \"IndexedDB error\"));\n      } catch (e) {\n        reject(new NotSupportedError((e as Error)?.message ?? \"IndexedDB unavailable\"));\n      }\n    });\n  }\n}",
    "import { SLS_CONSTANTS } from \"../constants\";\nimport { CryptoError, ValidationError } from \"../errors\";\nimport * as argon2 from \"argon2-browser\";\n\nfunction toArrayBuffer(u8: Uint8Array): ArrayBuffer {\n  if (u8.byteOffset === 0 && u8.byteLength === u8.buffer.byteLength && u8.buffer instanceof ArrayBuffer) {\n    return u8.buffer as ArrayBuffer;\n  }\n  return u8.slice().buffer as ArrayBuffer;\n}\n\nexport async function deriveKekFromPassword(\n  password: string,\n  salt: Uint8Array,\n  iterations = SLS_CONSTANTS.ARGON2.ITERATIONS\n): Promise<CryptoKey> {\n  if (typeof password !== \"string\" || password.length === 0) {\n    throw new ValidationError(\"Password must be a non-empty string\");\n  }\n  \n  if (!(salt instanceof Uint8Array) || salt.byteLength < SLS_CONSTANTS.SALT_LEN) {\n    throw new ValidationError(`Salt must be Uint8Array with length >= ${SLS_CONSTANTS.SALT_LEN}`);\n  }\n\n  const MAX_ITERATIONS = 64;\n  if (!Number.isInteger(iterations) || iterations < 1 || iterations > MAX_ITERATIONS) {\n    throw new ValidationError(`iterations must be an integer in [1, ${MAX_ITERATIONS}]`);\n  }\n\n  let result: { hash: Uint8Array };\n  try {\n    result = await argon2.hash({\n      pass: password,\n      salt,\n      time: iterations,\n      mem: SLS_CONSTANTS.ARGON2.MEMORY_KIB,\n      hashLen: SLS_CONSTANTS.ARGON2.HASH_LEN,\n      parallelism: SLS_CONSTANTS.ARGON2.PARALLELISM,\n      type: argon2.ArgonType.Argon2id\n    });\n  } catch (e) {\n    throw new CryptoError(`Argon2 derivation failed: ${(e as Error)?.message ?? e}`);\n  }\n\n  if (!result?.hash) throw new CryptoError(\"Argon2 returned no hash\");\n\n  try {\n    return await crypto.subtle.importKey(\n      \"raw\",\n      toArrayBuffer(result.hash),\n      { name: SLS_CONSTANTS.AES.NAME, length: SLS_CONSTANTS.AES.LENGTH },\n      false,\n      [\"wrapKey\", \"unwrapKey\"]\n    );\n  } catch (e) {\n    throw new CryptoError(`Failed to import derived key: ${(e as Error)?.message ?? e}`);\n  }\n}",
    "/**\n * Caches a derived KEK (CryptoKey) for master password sessions.\n * Key is non-extractable and kept only in RAM.\n */\nexport class SessionKeyCache {\n  private key: CryptoKey | null = null;\n  private saltB64: string | null = null;\n  private rounds: number | null = null;\n\n  set(key: CryptoKey, saltB64: string, rounds: number) {\n    this.key = key;\n    this.saltB64 = saltB64;\n    this.rounds = rounds;\n  }\n\n  match(saltB64: string, rounds: number): CryptoKey | null {\n    if (!this.key) return null;\n    if (this.saltB64 === saltB64 && this.rounds === rounds) return this.key;\n    return null;\n  }\n\n  clear() {\n    this.key = null;\n    this.saltB64 = null;\n    this.rounds = null;\n  }\n}",
    "import { SLS_CONSTANTS } from \"../constants\";\nimport { PersistedConfigV2 } from \"../types\";\nimport { StorageFullError } from \"../errors\";\n\nfunction estimateBytes(s: string): number {\n  try { return new Blob([s]).size; } catch { return s.length; }\n}\n\nexport class StorageService {\n  private key: string;\n\n  constructor(key: string = SLS_CONSTANTS.STORAGE_KEY) {\n    this.key = key;\n  }\n\n  get(): PersistedConfigV2 | null {\n    const raw = localStorage.getItem(this.key);\n    if (!raw) return null;\n    try { return JSON.parse(raw) as PersistedConfigV2; } catch { return null; }\n  }\n\n  _isQuotaExceeded(err: unknown): boolean {\n    const e = err as { name?: string; code?: number; message?: string };\n    const name = e?.name ?? \"\";\n    const msg = e?.message ?? \"\";\n    const code = e?.code;\n\n    return (\n      name === \"QuotaExceededError\" ||\n      name === \"NS_ERROR_DOM_QUOTA_REACHED\" ||\n      code === 22 ||            // legacy Safari / WebKit\n      code === 1014 ||          // Firefox DOMException\n      /quota/i.test(msg)        // generic safety net\n    );\n  }\n\n  set(cfg: PersistedConfigV2): void {\n    const serialized = JSON.stringify(cfg);\n    try {\n      localStorage.setItem(this.key, serialized);\n      const check = localStorage.getItem(this.key);\n      if (check !== serialized) throw new StorageFullError(\"Failed to persist data\");\n    } catch (e) {\n      if (this._isQuotaExceeded(e)) {\n        throw new StorageFullError(`localStorage quota exceeded (${estimateBytes(serialized)} bytes)`);\n      }\n      const msg = (e as Error)?.message ?? String(e);\n      throw new StorageFullError(`Failed to persist data: ${msg}`);\n    }\n  }\n\n  clear(): void {\n    try { localStorage.removeItem(this.key); } catch { /* ignore */ }\n  }\n}",
    "import { ValidationError } from \"../errors\";\n\n/**\n * Ensures a value is JSON-serializable (no functions / symbols / circular refs).\n * Returns a deep-cloned plain JSON object.\n */\nexport function toPlainJson<T>(value: T): T {\n  const seen = new WeakSet<object>();\n  const replacer = (_key: string, v: unknown) => {\n    const t = typeof v;\n    if (t === \"function\" || t === \"symbol\") {\n      throw new ValidationError(\"Data must be JSON-serializable (no functions/symbols)\");\n    }\n    if (v && t === \"object\") {\n      const o = v as object;\n      if (seen.has(o)) {\n        throw new ValidationError(\"Data must be JSON-serializable (no circular references)\");\n      }\n      seen.add(o);\n    }\n    return v;\n  };\n\n  try {\n    return JSON.parse(JSON.stringify(value, replacer)) as T;\n  } catch (e) {\n    if (e instanceof ValidationError) throw e;\n    throw new ValidationError(\"Data must be JSON-serializable\");\n  }\n}\n\nexport function safeParseJson<T>(text: string): T {\n  try {\n    return JSON.parse(text) as T;\n  } catch {\n    throw new ValidationError(\"Invalid JSON input\");\n  }\n}\n",
    "import { LockedError, ValidationError } from \"../errors\";\n\nexport type SecureDataView<T extends Record<string, unknown>> = T & {\n  clear(): void;\n};\n\nexport function makeSecureDataView<T extends Record<string, unknown>>(payloadIn: T): SecureDataView<T> {\n  let cleared = false;\n  let payload: T = payloadIn;\n  let nestedCache: WeakMap<object, object> = new WeakMap<object, object>(); // <-- make it reassignable\n\n  function clear(): void {\n    const overwrite = (obj: unknown) => {\n      if (!obj || typeof obj !== \"object\") return;\n      const rec = obj as Record<string, unknown>;\n      for (const key of Object.keys(rec)) {\n        const v = rec[key];\n        if (v && typeof v === \"object\") overwrite(v);\n        rec[key] = null;\n      }\n    };\n    overwrite(payload);\n    cleared = true;\n    payload = {} as T;\n    nestedCache = new WeakMap<object, object>();\n  }\n\n  const readonlyError = () => new ValidationError(\"SecureDataView is read-only; mutate via setData()\");\n\n  const wrapNested = (obj: unknown): unknown => {\n    if (!obj || typeof obj !== \"object\") return obj;\n    const cached = nestedCache.get(obj);\n    if (cached) return cached;\n\n    const proxied = new Proxy(obj as Record<string, unknown>, {\n      get(target, prop: string | symbol) {\n        if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const v = (target as any)[prop];\n        return typeof v === \"object\" && v !== null ? wrapNested(v) : v;\n      },\n      set() { throw readonlyError(); },\n      defineProperty() { throw readonlyError(); },\n      deleteProperty() { throw readonlyError(); },\n      ownKeys(target) {\n        if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n        return Reflect.ownKeys(target);\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n        if (Object.prototype.hasOwnProperty.call(target, prop)) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          const value = (target as any)[prop];\n          return { configurable: true, enumerable: true, writable: false, value };\n        }\n        return undefined;\n      },\n      has(target, prop) {\n        if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n        return Reflect.has(target, prop);\n      }\n    });\n\n    nestedCache.set(obj, proxied);\n    return proxied;\n  };\n\n  const handler: ProxyHandler<Record<string, unknown>> = {\n    get(_, prop: string | symbol) {\n      if (prop === \"clear\") return clear;\n      if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const v = (payload as any)[prop];\n      return typeof v === \"object\" && v !== null ? wrapNested(v) : v;\n    },\n    set() { throw readonlyError(); },\n    defineProperty() { throw readonlyError(); },\n    deleteProperty() { throw readonlyError(); },\n    ownKeys() {\n      if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n      return [...Object.keys(payload), \"clear\"];\n    },\n    getOwnPropertyDescriptor(_, prop: string | symbol) {\n      if (prop === \"clear\") return { configurable: true, enumerable: true, writable: false, value: clear };\n      if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n      if (Object.prototype.hasOwnProperty.call(payload, prop)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const value = (payload as any)[prop];\n        return { configurable: true, enumerable: true, writable: false, value };\n      }\n      return undefined;\n    },\n    has(_, prop) {\n      if (prop === \"clear\") return true;\n      if (cleared) throw new LockedError(\"Decrypted data was cleared\");\n      return Object.prototype.hasOwnProperty.call(payload, prop);\n    }\n  };\n\n  return new Proxy<Record<string, unknown>>({} as never, handler) as SecureDataView<T>;\n}",
    "import { EncryptionManager } from \"../crypto/EncryptionManager\";\nimport { DeviceKeyProvider } from \"../crypto/DeviceKeyProvider\";\nimport { deriveKekFromPassword } from \"../crypto/KeyDerivation\";\nimport { SessionKeyCache } from \"../crypto/SessionKeyCache\";\nimport { SLS_CONSTANTS } from \"../constants\";\nimport { StorageService } from \"../storage/StorageService\";\nimport type { PersistedConfigV2 } from \"../types\";\nimport { base64ToBytes } from \"../utils/base64\";\nimport { toPlainJson } from \"../utils/json\";\nimport { makeSecureDataView, SecureDataView } from \"../utils/secureDataView\";\nimport type { IdbConfig } from \"../crypto/DeviceKeyProvider\";\nimport {\n  ExportError,\n  ImportError,\n  LockedError,\n  ModeError,\n  ValidationError\n} from \"../errors\";\n\n/**\n * Configuration options for initializing SecureLocalStorage.\n */\nexport interface SecureLocalStorageOptions {\n  /**\n   * Overrides the default key used for storing encrypted data in `localStorage`.\n   * This is useful for multi-tenant applications or for isolating data in tests.\n   * @default \"secure-local-storage\"\n   */\n  storageKey?: string;\n  /**\n   * Overrides the default IndexedDB configuration for storing the device-specific key.\n   * This is useful for multi-tenant applications or for isolating data in tests.\n   */\n  idbConfig?: Partial<IdbConfig>;\n}\n\n/**\n * Provides a secure, client-side storage solution that encrypts data before persisting it.\n *\n * `SecureLocalStorage` offers two primary modes of operation:\n * 1.  **Device-bound Mode**: (Default) Data is encrypted with a key that is stored in\n *     the browser's IndexedDB. This key is unique to the device and profile, making it\n *     difficult to access from other devices. Data is automatically unlocked when the\n *     class is instantiated.\n * 2.  **Master Password Mode**: Data is encrypted with a key derived from a user-provided\n *     master password. The data can only be accessed by providing the correct password,\n *     allowing for portability across devices but requiring user interaction to unlock.\n *\n * The class handles key management, encryption, and data serialization, providing a\n * simple `getData`/`setData` interface for application use. It also supports features\n * like key rotation, data export/import, and changing or removing the master password.\n *\n * @example\n * ```typescript\n * // Initialize in device-bound mode\n * const sls = new SecureLocalStorage();\n *\n * // Set some data\n * await sls.setData({ mySecret: \"hello world\" });\n *\n * // Get the data back\n * const dataView = await sls.getData();\n * console.log(dataView.value.mySecret); // \"hello world\"\n *\n * // Wipe the plaintext from memory\n * dataView.clear();\n * ```\n *\n * @example\n * ```typescript\n * // Initialize and set a master password\n * const sls = new SecureLocalStorage();\n * await sls.setMasterPassword(\"my-strong-password-123\");\n *\n * // Later, in a new session\n * const sls2 = new SecureLocalStorage();\n * await sls2.unlock(\"my-strong-password-123\");\n * const data = await sls2.getData();\n * // ... use data\n * sls2.lock(); // clear session keys\n * ```\n */\nexport class SecureLocalStorage {\n  private readonly store: StorageService;\n  private readonly enc = new EncryptionManager();\n  private readonly session = new SessionKeyCache();\n  private config: PersistedConfigV2 | null = null;\n  private dek: CryptoKey | null = null;\n  private ready: Promise<void>;\n  private readonly idbConfig: { dbName: string; storeName: string; keyId: string };\n  /**\n   * The current version of the data structure format.\n   */\n  public readonly DATA_VERSION: number = SLS_CONSTANTS.CURRENT_DATA_VERSION;\n\n  /**\n   * Initializes a new instance of SecureLocalStorage.\n   *\n   * The constructor immediately begins an asynchronous initialization process.\n   * Public methods will await this process, so you don't need to manually wait\n   * for it to complete.\n   *\n   * @param opts - Optional configuration to customize storage keys.\n   */\n  constructor(opts?: SecureLocalStorageOptions) {\n    this.store = new StorageService(opts?.storageKey);\n    this.idbConfig = {\n      dbName: opts?.idbConfig?.dbName ?? SLS_CONSTANTS.IDB.DB_NAME,\n      storeName: opts?.idbConfig?.storeName ?? SLS_CONSTANTS.IDB.STORE,\n      keyId: opts?.idbConfig?.keyId ?? SLS_CONSTANTS.IDB.ID,\n    };\n\n    this.ready = this.initialize();\n  }\n\n  // --------------------------- public API ---------------------------\n\n  /**\n   * Checks if the storage is currently protected by a master password.\n   * @returns `true` if a master password is set, `false` otherwise.\n   */\n  public isUsingMasterPassword(): boolean {\n    return (this.config?.header.rounds ?? 1) > 1;\n  }\n\n  /**\n   * Checks if the storage is currently locked.\n   * This is only relevant when in master password mode.\n   * @returns `true` if in master password mode and no dek or session, otherwise `false`.\n   */\n  public isLocked(): boolean {\n    return this.isUsingMasterPassword() && !this.dek;\n  }\n\n\n  /**\n   * Unlocks the data encryption key (DEK) using the provided master password.\n   * This is required to access data when in master password mode.\n   * If the store is in device-bound mode or is already unlocked, this method does nothing.\n   *\n   * @param masterPassword - The user's master password.\n   * @throws {ValidationError} If the master password is an empty string or invalid.\n   */\n  async unlock(masterPassword: string): Promise<void> {\n    await this.ready;\n    if (!this.config) return;\n    if (!this.isUsingMasterPassword()) return; // already unlocked in device mode\n    \n    if (typeof masterPassword !== \"string\" || masterPassword.trim().length === 0) {\n      throw new ValidationError(\"masterPassword must be a non-empty string\");\n    }\n\n    const { salt, rounds } = this.config.header;\n    const kek = await deriveKekFromPassword(masterPassword, base64ToBytes(salt), rounds);\n    try {\n      this.session.set(kek, salt, rounds);\n      await this.unwrapDekWithKek(kek, false);\n    } catch {\n      this.session.clear();\n      throw new ValidationError(\"Invalid master password\");\n    }\n  }\n\n  /**\n   * Sets a master password, switching from device-bound mode to master password mode.\n   * This re-encrypts the data encryption key (DEK) with a new key derived from the password.\n   *\n   * @param masterPassword - The new master password to set. Must be a non-empty string.\n   * @throws {ModeError} If a master password is already set.\n   * @throws {ValidationError} If the master password is an empty string.\n   */\n  async setMasterPassword(masterPassword: string): Promise<void> {\n    await this.ready;\n    this.requireConfig();\n    if (this.isUsingMasterPassword()) {\n      throw new ModeError(\"Master password already set; use rotateMasterPassword()\");\n    }\n    if (typeof masterPassword !== \"string\" || masterPassword.length === 0) {\n      throw new ValidationError(\"masterPassword must be a non-empty string\");\n    }\n    // Unwrap existing DEK for wrapping using device KEK\n    const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n    await this.unwrapDekWithKek(deviceKek, true);\n\n    const saltB64 = this.enc.generateSaltB64();\n    const kek = await deriveKekFromPassword(masterPassword, base64ToBytes(saltB64));\n    const wrapped = await this.enc.wrapDek(this.dek!, kek);\n\n    // Update header to master mode\n    this.config!.header = {\n      v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n      salt: saltB64,\n      rounds: SLS_CONSTANTS.ARGON2.ITERATIONS,\n      iv: wrapped.ivWrap,\n      wrappedKey: wrapped.wrappedKey\n    };\n\n    // Keep session unlocked (cache kek) and unwrap DEK for use\n    this.session.set(kek, saltB64, SLS_CONSTANTS.ARGON2.ITERATIONS);\n    this.dek = await this.enc.unwrapDek(wrapped.ivWrap, wrapped.wrappedKey, kek, false);\n    this.persist();\n  }\n\n  /**\n   * Removes the master password, switching back to device-bound mode.\n   * The DEK is re-encrypted using the device-specific key.\n   * Requires the session to be unlocked.\n   *\n   * @throws {ModeError} If no master password is set.\n   * @throws {LockedError} If the session is locked.\n   */\n  async removeMasterPassword(): Promise<void> {\n    await this.ready;\n    this.requireConfig();\n    if (!this.isUsingMasterPassword()) throw new ModeError(\"No master password is set\");\n    this.requireUnlocked();\n\n    const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n    // Ensure DEK is extractable for wrap\n    await this.unwrapDekWithKek(this.sessionKekOrThrow(), true);\n    const { ivWrap, wrappedKey } = await this.enc.wrapDek(this.dek!, deviceKek);\n\n    this.config!.header = {\n      v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n      salt: \"\",\n      rounds: 1,\n      iv: ivWrap,\n      wrappedKey\n    };\n\n    // In device mode, keep DEK unwrapped for convenience\n    this.dek = await this.enc.unwrapDek(ivWrap, wrappedKey, deviceKek, false);\n    this.session.clear(); // no master kek required now\n    this.persist();\n  }\n\n  /**\n   * Atomically changes the master password.\n   * If not in master password mode, it will set the new password.\n   *\n   * @param oldMasterPassword - The current master password.\n   * @param newMasterPassword - The new master password. Must be a non-empty string.\n   * @throws {ValidationError} If the new password is empty or if the old password is incorrect.\n   * @throws {LockedError} If the session is locked.\n   */\n  async rotateMasterPassword(oldMasterPassword: string, newMasterPassword: string): Promise<void> {\n    await this.ready;\n    this.requireConfig();\n\n    if (typeof newMasterPassword !== \"string\" || newMasterPassword.length === 0) {\n      throw new ValidationError(\"newMasterPassword must be a non-empty string\");\n    }\n\n    if (!this.isUsingMasterPassword()) {\n      // unlock() is a no-op in device mode\n      await this.unlock(oldMasterPassword);\n      await this.setMasterPassword(newMasterPassword);\n      return;\n    }\n\n    await this.unlock(oldMasterPassword);\n    this.requireUnlocked();\n\n    await this.unwrapDekWithKek(this.sessionKekOrThrow(), true);\n\n    const saltB64 = this.enc.generateSaltB64();\n    const rounds = SLS_CONSTANTS.ARGON2.ITERATIONS;\n    const newKek = await deriveKekFromPassword(newMasterPassword, base64ToBytes(saltB64), rounds);\n    const { ivWrap, wrappedKey } = await this.enc.wrapDek(this.dek!, newKek);\n\n    this.config!.header = {\n      v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n      salt: saltB64,\n      rounds,\n      iv: ivWrap,\n      wrappedKey\n    };\n\n    this.session.set(newKek, saltB64, rounds);\n    this.dek = await this.enc.unwrapDek(ivWrap, wrappedKey, newKek, false);\n\n    this.persist();\n  }\n\n  /**\n   * Locks the session by clearing the cached Key Encryption Key (KEK) and\n   * Data Encryption Key (DEK) from memory.\n   * After locking, `unlock()` must be called to perform further operations.\n   */\n  lock(): void {\n    this.session.clear();\n    this.dek = null;\n  }\n\n  /**\n   * Rotates the Data Encryption Key (DEK) and the device-specific Key Encryption Key (KEK).\n   * This enhances security by replacing the keys used to protect the data.\n   * This operation is only allowed in device-bound mode.\n   *\n   * @throws {ModeError} If a master password is set.\n   */\n  async rotateKeys(): Promise<void> {\n    await this.ready;\n    this.requireConfig();\n    if (this.isUsingMasterPassword()) {\n      throw new ModeError(\"rotateKeys is allowed only in password-less mode\");\n    }\n    const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n    // Unwrap current DEK to read & re-encrypt data\n    await this.unwrapDekWithKek(deviceKek, false);\n    const plain = await this.enc.decryptData<Record<string, unknown>>(\n      this.dek!,\n      this.config!.data.iv,\n      this.config!.data.ciphertext\n    );\n\n    // Generate new DEK and new device KEK, re-encrypt data\n    const newDek = await this.enc.createDek();\n    const { iv, ciphertext } = await this.enc.encryptData(newDek, plain);\n\n    const newDeviceKek = await DeviceKeyProvider.rotateKey(this.idbConfig);\n    const { ivWrap, wrappedKey } = await this.enc.wrapDek(newDek, newDeviceKek);\n\n    this.config!.header = {\n      v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n      salt: \"\",\n      rounds: 1,\n      iv: ivWrap,\n      wrappedKey\n    };\n    this.config!.data = { iv, ciphertext };\n\n    // Keep session convenient (unwrapped in memory)\n    this.dek = await this.enc.unwrapDek(ivWrap, wrappedKey, newDeviceKek, false);\n\n    // Clear plaintext copy\n    for (const k of Object.keys(plain)) (plain as Record<string, unknown>)[k] = null;\n\n    this.persist();\n  }\n\n  /**\n   * Retrieves the decrypted data.\n   *\n   * @returns A promise that resolves to a `SecureDataView`, a wrapper around the\n   *          decrypted data object that includes a `wipe()` method to securely\n   *          clear the plaintext data from memory.\n   * @throws {LockedError} If the session is locked.\n   * @throws {ValidationError} If the stored data is not a plain object.\n   * @template T The expected type of the stored data object.\n   */\n  async getData<T extends Record<string, unknown> = Record<string, unknown>>(): Promise<SecureDataView<T>> {\n    await this.ready;\n    this.requireConfig();\n    await this.ensureDekLoaded();\n    if (!this.config!.data.iv || !this.config!.data.ciphertext) {\n      // empty object\n      return makeSecureDataView({} as T);\n    }\n    const obj = await this.enc.decryptData<unknown>(this.dek!, this.config!.data.iv, this.config!.data.ciphertext);\n    const isPlain =\n      !!obj &&\n      typeof obj === \"object\" &&\n      !Array.isArray(obj) &&\n      Object.getPrototypeOf(obj as object) === Object.prototype;\n\n    if (!isPlain) {\n      throw new ValidationError(\"Stored data must be a plain object\");\n    }\n    return makeSecureDataView(obj as T);\n  }\n\n  /**\n   * Encrypts and persists the provided data object, replacing any existing data.\n   *\n   * @param value The plain JavaScript object to store. It must be serializable.\n   * @throws {LockedError} If the session is locked.\n   * @throws {ValidationError} If the provided value is not a plain object.\n   */\n  async setData<T extends Record<string, unknown>>(value: T): Promise<void> {\n    await this.ready;\n    this.requireConfig();\n    await this.ensureDekLoaded();\n\n    if (!value || typeof value !== \"object\" || Array.isArray(value)) {\n      throw new ValidationError(\"Data must be a plain object\");\n    }\n\n    const plain = toPlainJson(value);\n    const { iv, ciphertext } = await this.enc.encryptData(this.dek!, plain);\n    this.config!.data = { iv, ciphertext };\n    this.persist();\n  }\n\n  /**\n   * Exports the encrypted data bundle as a JSON string.\n   *\n   * There are two export modes:\n   * 1.  **Master Password Mode**: If no `customExportPassword` is provided and a master\n   *     password is set, the bundle is exported using the existing master password.\n   * 2.  **Custom Password Mode**: If a `customExportPassword` is provided, the bundle\n   *     is re-encrypted with a key derived from this password. This is required when\n   *     in device-bound mode.\n   *\n   * @param customExportPassword - An optional password to protect the exported data.\n   *        Required if not in master password mode.\n   * @returns A JSON string representing the encrypted data bundle.\n   * @throws {ExportError} If a password is required but not provided, or if the\n   *         provided password is invalid.\n   */\n  async exportData(customExportPassword?: string): Promise<string> {\n    await this.ready;\n    this.requireConfig();\n\n    if (!customExportPassword && this.isUsingMasterPassword()) {\n      const copy = structuredClone(this.config!);\n      copy.header.mPw = true;\n      return JSON.stringify(copy);\n    }\n\n    if (!customExportPassword && !this.isUsingMasterPassword()) {\n      throw new ExportError(\"Export password required in device mode\");\n    }\n\n    if (customExportPassword !== undefined &&\n        (typeof customExportPassword !== \"string\" || customExportPassword.trim().length === 0)) {\n      throw new ExportError(\"Export password must be a non-empty string\");\n    }\n\n    try {\n      // Re-wrap DEK with export KEK\n      const exportSaltB64 = this.enc.generateSaltB64();\n      const exportKek = await deriveKekFromPassword(customExportPassword!, base64ToBytes(exportSaltB64));\n\n      // Unwrap current DEK for wrapping using active KEK\n      if (this.isUsingMasterPassword()) {\n        await this.unwrapDekWithKek(this.sessionKekOrThrow(), true);\n      } else {\n        const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n        await this.unwrapDekWithKek(deviceKek, true);\n      }\n\n      const { ivWrap, wrappedKey } = await this.enc.wrapDek(this.dek!, exportKek);\n      const bundle: PersistedConfigV2 = {\n        header: {\n          v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n          salt: exportSaltB64,\n          rounds: SLS_CONSTANTS.ARGON2.ITERATIONS,\n          iv: ivWrap,\n          wrappedKey,\n          mPw: false\n        },\n        data: this.config!.data\n      };\n      return JSON.stringify(bundle);\n    } catch (e) {\n      throw new ExportError((e as Error)?.message ?? \"Export failed\");\n    }\n  }\n\n  /**\n   * Imports a previously exported data bundle.\n   *\n   * The method determines whether to use a master password or an export password\n   * based on the bundle's metadata. After a successful import using an export\n   * password, the data is re-encrypted into device-bound mode. If imported with a\n   * master password, it remains in master password mode.\n   *\n   * @param serialized - The JSON string of the exported data bundle.\n   * @param password - The password required to decrypt the bundle (master or export).\n   * @returns A promise that resolves to 'masterPassword' or 'customExportPassword'\n   *          indicating which type of password was used for the import.\n   * @throws {ImportError} If the JSON is invalid, the bundle is corrupted, the\n   *         password is required but missing, or the password is incorrect.\n   */\n  async importData(serialized: string, password?: string): Promise<string> {\n    await this.ready;\n    let bundle: PersistedConfigV2;\n    try {\n      bundle = JSON.parse(serialized) as PersistedConfigV2;\n    } catch {\n      throw new ImportError(\"Invalid import JSON\");\n    }\n\n    if (bundle.header.v !== SLS_CONSTANTS.CURRENT_DATA_VERSION) {\n      throw new ImportError(`Unsupported export version ${bundle.header.v}`);\n    }\n\n    this.validateBundle(bundle);\n\n    const isMasterProtected =\n      bundle.header.mPw === true ||\n      (bundle.header.rounds > 1 && bundle.header.mPw !== false);\n\n    if (typeof password !== \"string\" || password.length === 0) {\n      throw new ImportError(isMasterProtected\n        ? \"Master password required to import\"\n        : \"Export password required to import\"\n      );\n    }\n\n    if (isMasterProtected) {\n      try {\n        const kek = await deriveKekFromPassword(password, base64ToBytes(bundle.header.salt), bundle.header.rounds);\n        await this.enc.unwrapDek(bundle.header.iv, bundle.header.wrappedKey, kek, false);\n      } catch {\n        throw new ImportError(\"Invalid master password or corrupted export data\");\n      }\n      // Accept bundle as-is (master mode)\n      this.config = bundle;\n      this.dek = null; // locked until unlock()\n      this.session.clear();\n      this.persist();\n      return 'masterPassword';\n    }\n\n    try {\n      const exportKek = await deriveKekFromPassword(password, base64ToBytes(bundle.header.salt), bundle.header.rounds);\n      const extractableDek = await this.enc.unwrapDek(bundle.header.iv, bundle.header.wrappedKey, exportKek, true);\n      const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n      const { ivWrap, wrappedKey } = await this.enc.wrapDek(extractableDek, deviceKek);\n\n      // Store bundle in device mode\n      this.config = {\n        header: {\n          v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n          salt: \"\",\n          rounds: 1,\n          iv: ivWrap,\n          wrappedKey\n        },\n        data: bundle.data\n      };\n      // Keep session unlocked for convenience\n      this.dek = await this.enc.unwrapDek(ivWrap, wrappedKey, deviceKek, false);\n      this.session.clear();\n      this.persist();\n      return 'customExportPassword'\n    } catch (e) {\n      throw new ImportError(\"Invalid export password or corrupted export data\");\n    }\n  }\n\n  /**\n   * Clears all stored data, including the encrypted bundle from `localStorage` and\n   * the device key from `IndexedDB`.\n   * After clearing, the instance is reinitialized to a fresh, empty state in\n   * device-bound mode.\n   */\n  async clear(): Promise<void> {\n    await this.ready;\n    this.session.clear();\n    this.dek = null;\n    this.store.clear();\n    await DeviceKeyProvider.deletePersistent(this.idbConfig);\n    await this.initialize(true);\n  }\n\n  // --------------------------- private helpers ---------------------------\n\n  private async initialize(forceFresh = false): Promise<void> {\n    const isValidConfig = (cfg: PersistedConfigV2 | null): cfg is PersistedConfigV2 => {\n      if (!cfg) return false;\n      const h = cfg.header;\n      const d = cfg.data;\n      if (!h || h.v !== SLS_CONSTANTS.CURRENT_DATA_VERSION) return false;\n      if (typeof h.rounds !== \"number\" || h.rounds < 1) return false;\n      if (typeof h.iv !== \"string\" || typeof h.wrappedKey !== \"string\") return false;\n      if (!d || typeof d.iv !== \"string\" || typeof d.ciphertext !== \"string\") return false;\n\n      if (h.rounds === 1) {\n        if (h.salt !== \"\") return false;\n      } else {\n        if (typeof h.salt !== \"string\" || h.salt.length === 0) return false;\n      }\n\n      try {\n        base64ToBytes(h.iv);\n        base64ToBytes(h.wrappedKey);\n        if (d.iv) base64ToBytes(d.iv);\n        if (d.ciphertext) base64ToBytes(d.ciphertext);\n      } catch {\n        return false;\n      }\n      return true;\n    };\n\n    // If we are forced fresh, build a new device-mode store immediately.\n    if (forceFresh) {\n      const dek = await this.enc.createDek();\n      const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n      const { ivWrap, wrappedKey } = await this.enc.wrapDek(dek, deviceKek);\n      const unwrappedDek = await this.enc.unwrapDek(ivWrap, wrappedKey, deviceKek, false);\n      const { iv, ciphertext } = await this.enc.encryptData(unwrappedDek, {}); // empty object\n\n      this.config = {\n        header: {\n          v: SLS_CONSTANTS.CURRENT_DATA_VERSION,\n          salt: \"\",\n          rounds: 1,\n          iv: ivWrap,\n          wrappedKey\n        },\n        data: { iv, ciphertext }\n      };\n      this.dek = unwrappedDek;\n      this.persist();\n      return;\n    }\n\n    const existing = this.store.get();\n    if (!isValidConfig(existing)) {\n      await this.initialize(true);\n      return;\n    }\n\n    this.config = existing;\n\n    // Auto-unlock in device mode\n    if (!this.isUsingMasterPassword()) {\n      const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n      try {\n        this.dek = await this.enc.unwrapDek(existing.header.iv, existing.header.wrappedKey, deviceKek, false);\n      } catch {\n        // throw new ValidationError(\"Failed to unwrap DEK using device key. Tampered data?\");\n        // Cannot unwrap with current device KEK -> start fresh\n        await this.initialize(true);\n      }\n    }\n  }\n\n  private persist(): void {\n    this.store.set(this.config!);\n  }\n  \n  private requireConfig(): void {\n    if (!this.config) throw new ImportError(\"No configuration present\");\n  }\n\n  private requireUnlocked(): void {\n    if (!this.dek) throw new LockedError();\n  }\n\n  private sessionKekOrThrow(): CryptoKey {\n    const { salt, rounds } = this.config!.header;\n    const kek = this.session.match(salt, rounds);\n    if (!kek) throw new LockedError(\"Session locked.\");\n    return kek;\n  }\n\n  private async ensureDekLoaded(): Promise<void> {\n    if (this.dek) return;\n    if (this.isUsingMasterPassword()) {\n      const kek = this.sessionKekOrThrow();\n      await this.unwrapDekWithKek(kek, false);\n    } else {\n      const deviceKek = await DeviceKeyProvider.getKey(this.idbConfig);\n      await this.unwrapDekWithKek(deviceKek, false);\n    }\n  }\n\n  private async unwrapDekWithKek(kek: CryptoKey, forWrapping: boolean): Promise<void> {\n    this.dek = await this.enc.unwrapDek(this.config!.header.iv, this.config!.header.wrappedKey, kek, forWrapping);\n  }\n\n  private validateBundle(bundle: PersistedConfigV2): void {\n    const h = bundle?.header as PersistedConfigV2[\"header\"];\n    const d = bundle?.data as PersistedConfigV2[\"data\"];\n    if (!h || !d) throw new ImportError(\"Invalid export structure\");\n\n    // header types\n    if (typeof h.iv !== \"string\" || h.iv.length === 0) throw new ImportError(\"Invalid header.iv\");\n    if (typeof h.wrappedKey !== \"string\" || h.wrappedKey.length === 0) throw new ImportError(\"Invalid header.wrappedKey\");\n    if (!Number.isInteger(h.rounds) || h.rounds < 1) throw new ImportError(\"Invalid header.rounds\");\n\n    // rounds/salt semantics\n    if (h.rounds === 1) {\n      if (h.salt !== \"\") throw new ImportError(\"Device-mode bundles must have empty salt\");\n    } else {\n      if (typeof h.salt !== \"string\" || h.salt.length === 0) {\n        throw new ImportError(\"Password-protected bundles must include non-empty salt\");\n      }\n    }\n\n    // optional marker type\n    if (\"mPw\" in h && typeof h.mPw !== \"boolean\") {\n      throw new ImportError(\"Invalid header.mPw\");\n    }\n\n    // data types\n    if (typeof d.iv !== \"string\" || typeof d.ciphertext !== \"string\") {\n      throw new ImportError(\"Invalid data section\");\n    }\n\n    // base64 validation for all relevant fields\n    try {\n      base64ToBytes(h.iv);\n      base64ToBytes(h.wrappedKey);\n      if (d.iv) base64ToBytes(d.iv);\n      if (d.ciphertext) base64ToBytes(d.ciphertext);\n    } catch (e) {\n      throw new ImportError(\"Invalid base64 data\");\n    }\n\n  }\n}",
    "import { SecureLocalStorage, type SecureLocalStorageOptions } from \"./api/SecureLocalStorage\";\n\nexport type { SecureLocalStorageOptions } from \"./api/SecureLocalStorage\";\nexport { SecureLocalStorage } from \"./api/SecureLocalStorage\";\n\n/**\n * Creates and initializes a new `SecureLocalStorage` instance.\n *\n * This factory function is the recommended way to get started with the library.\n * It provides a convenient shorthand for `new SecureLocalStorage(opts)`.\n *\n * @param {SecureLocalStorageOptions} [opts] - Optional configuration to customize storage keys and other behavior.\n * @returns {SecureLocalStorage} A new instance of the `SecureLocalStorage` class.\n * @example\n * ```typescript\n * import secureLocalStorage from 'secure-local-storage';\n *\n * // Initialize with default options\n * const sls = secureLocalStorage();\n *\n * async function main() {\n *   await sls.setData({ secret: 'This is a secret' });\n *   const data = await sls.getData();\n *   console.log(data.value.secret); // \"This is a secret\"\n *   data.clear(); // clears read data memory\n * }\n *\n * main();\n * ```\n */\nexport default function secureLocalStorage(opts?: SecureLocalStorageOptions): SecureLocalStorage {\n  return new SecureLocalStorage(opts);\n}"
  ],
  "mappings": "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",
  "debugId": "A72EE5522583C6C764756E2164756E21",
  "names": []
}